{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\admin\\\\dev\\\\0_Mesto_Finish\\\\react-mesto-api-full-gha\\\\frontend\\\\src\\\\components\\\\EditProfilePopup.js\",\n  _s = $RefreshSig$();\nimport { useContext, useEffect } from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\nimport useForm from \"../hooks/useForm\";\nimport { AppContext } from \"../contexts/AppContext\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction EditProfilePopup(_ref) {\n  _s();\n  var _values$profileName, _values$profileDescri;\n  let {\n    isOpen,\n    onUpdateUser\n  } = _ref;\n  const {\n    currentUser\n  } = useContext(CurrentUserContext);\n  const {\n    isLoading\n  } = useContext(AppContext);\n  const {\n    values,\n    setValues,\n    handleChange\n  } = useForm();\n  useEffect(() => {\n    if (isOpen) {\n      setValues({\n        ...values,\n        profileName: currentUser.name,\n        profileDescription: currentUser.about\n      });\n    }\n  }, [currentUser, isOpen]);\n  function handleSubmit(evt) {\n    evt.preventDefault();\n    onUpdateUser({\n      name: values['profileName'],\n      about: values['profileDescription']\n    });\n  }\n  return /*#__PURE__*/_jsxDEV(PopupWithForm, {\n    title: \"\\u0420\\u0435\\u0434\\u0430\\u043A\\u0442\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C \\u043F\\u0440\\u043E\\u0444\\u0438\\u043B\\u044C\",\n    name: \"profile\",\n    isOpen: isOpen,\n    onSubmit: handleSubmit,\n    buttonSubmitText: isLoading ? 'Сохранение...' : 'Сохранить',\n    children: [/*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      placeholder: \"\\u0418\\u043C\\u044F\",\n      className: \"popup__input popup__input_type_name\",\n      name: \"profileName\",\n      minLength: \"2\",\n      maxLength: \"40\",\n      id: \"popup-name\",\n      onChange: handleChange,\n      value: (_values$profileName = values['profileName']) !== null && _values$profileName !== void 0 ? _values$profileName : '',\n      required: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n      className: \"popup__input-error\",\n      id: \"popup-name-error\",\n      children: \"\\u0441\\u043E\\u043E\\u0431\\u0449\\u0435\\u043D\\u0438\\u0435 \\u043E\\u0431 \\u043E\\u0448\\u0438\\u0431\\u043A\\u0435\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      placeholder: \"\\u041E \\u0441\\u0435\\u0431\\u0435\",\n      className: \"popup__input popup__input_type_description\",\n      name: \"profileDescription\",\n      minLength: \"2\",\n      maxLength: \"200\",\n      id: \"popup-description\",\n      value: (_values$profileDescri = values['profileDescription']) !== null && _values$profileDescri !== void 0 ? _values$profileDescri : '',\n      onChange: handleChange,\n      required: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n      className: \"popup__input-error\",\n      id: \"popup-description-error\",\n      children: \"\\u0441\\u043E\\u043E\\u0431\\u0449\\u0435\\u043D\\u0438\\u0435 \\u043E\\u0431 \\u043E\\u0448\\u0438\\u0431\\u043A\\u0435\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 33,\n    columnNumber: 9\n  }, this);\n}\n_s(EditProfilePopup, \"CyDEPNuY4i23thsx9SElWDxyiKk=\", false, function () {\n  return [useForm];\n});\n_c = EditProfilePopup;\n;\nexport default EditProfilePopup;\nvar _c;\n$RefreshReg$(_c, \"EditProfilePopup\");","map":{"version":3,"names":["useContext","useEffect","PopupWithForm","CurrentUserContext","useForm","AppContext","jsxDEV","_jsxDEV","EditProfilePopup","_ref","_s","_values$profileName","_values$profileDescri","isOpen","onUpdateUser","currentUser","isLoading","values","setValues","handleChange","profileName","name","profileDescription","about","handleSubmit","evt","preventDefault","title","onSubmit","buttonSubmitText","children","type","placeholder","className","minLength","maxLength","id","onChange","value","required","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/admin/dev/0_Mesto_Finish/react-mesto-api-full-gha/frontend/src/components/EditProfilePopup.js"],"sourcesContent":["import { useContext, useEffect } from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\r\nimport useForm from \"../hooks/useForm\";\r\nimport { AppContext } from \"../contexts/AppContext\";\r\n\r\n\r\nfunction EditProfilePopup({ isOpen, onUpdateUser }) {\r\n    const {currentUser} = useContext(CurrentUserContext);\r\n    const { isLoading } = useContext(AppContext);\r\n\r\n    const { values, setValues, handleChange } = useForm();\r\n\r\n    useEffect(() => {\r\n        if (isOpen) {\r\n            setValues({\r\n                ...values,\r\n                profileName: currentUser.name,\r\n                profileDescription: currentUser.about\r\n            });\r\n        }\r\n    }, [currentUser, isOpen]);\r\n\r\n    function handleSubmit(evt) {\r\n        evt.preventDefault();\r\n        onUpdateUser({\r\n            name: values['profileName'],\r\n            about: values['profileDescription']\r\n        });\r\n    }\r\n\r\n    return (\r\n        <PopupWithForm\r\n            title=\"Редактировать профиль\"\r\n            name=\"profile\"\r\n            isOpen={isOpen}\r\n            onSubmit={handleSubmit}\r\n            buttonSubmitText={isLoading ? 'Сохранение...' : 'Сохранить'}\r\n        >\r\n            <input type=\"text\" placeholder=\"Имя\" className=\"popup__input popup__input_type_name\" name=\"profileName\"\r\n                minLength=\"2\" maxLength=\"40\" id=\"popup-name\" onChange={handleChange}\r\n                value={values['profileName'] ?? ''} required />\r\n            <span className=\"popup__input-error\" id=\"popup-name-error\">сообщение об ошибке</span>\r\n\r\n            <input type=\"text\" placeholder=\"О себе\" className=\"popup__input popup__input_type_description\"\r\n                name=\"profileDescription\" minLength=\"2\" maxLength=\"200\" id=\"popup-description\"\r\n                value={values['profileDescription'] ?? ''} onChange={handleChange} required />\r\n            <span className=\"popup__input-error\" id=\"popup-description-error\">сообщение об ошибке</span>\r\n        </PopupWithForm>\r\n    );\r\n};\r\n\r\nexport default EditProfilePopup;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}